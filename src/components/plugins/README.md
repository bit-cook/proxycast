# 插件管理组件

插件系统的前端 UI 组件，提供插件安装、卸载和管理功能。

## 文件索引

| 文件                        | 说明                                                |
| --------------------------- | --------------------------------------------------- |
| `PluginsPage.tsx`           | 插件中心页面，独立的导航栏入口                      |
| `PluginManager.tsx`         | 插件管理主组件，显示插件列表和状态                  |
| `PluginInstallDialog.tsx`   | 插件安装对话框，支持本地文件和 URL 安装             |
| `PluginUninstallDialog.tsx` | 插件卸载确认对话框                                  |
| `PluginUIRenderer.tsx`      | 插件 UI 渲染器，根据 pluginId 渲染对应的插件 UI     |
| `PluginItemContextMenu.tsx` | 插件项右键菜单，支持启用/禁用、打开目录、卸载等操作 |
| `index.ts`                  | 模块导出                                            |

## 功能说明

### PluginManager

- 显示插件系统状态概览
- 列出已加载的插件和已安装的插件包
- 提供安装/卸载入口
- 支持启用/禁用插件
- 提供运行诊断面板（任务筛选、搜索、分页、详情、取消）
- 支持时间范围筛选（1h / 24h / 7d / 自定义区间）与一键重置筛选
- 自定义区间支持快捷按钮（近 15/30/60 分钟）与区间提示文案
- 自定义区间支持记忆最近一次有效区间并一键应用
- 支持显示上次区间最近使用时间，并可一键复制区间
- 复制区间具备降级兜底（Clipboard API 不可用时自动回退）
- 支持一键复制结构化区间 JSON（start/end/updatedAt）
- 支持保存最近 5 条自定义区间历史并快速回填
- 支持删除单条历史区间与一键清空历史
- 支持为历史区间命名标签，便于快速识别与复用
- 支持收藏历史区间并在列表/下拉中置顶展示
- 历史区间支持按标签搜索与排序（最近使用/标签）
- 支持“仅收藏”快速筛选，便于聚焦常用区间
- 支持“收藏置顶”开关，允许切换为纯时间/标签排序
- 支持历史区间“视图模式”菜单（默认置顶/纯排序/仅收藏）
- 仅收藏模式下提供专属空态提示，提升筛选反馈清晰度
- 仅收藏模式下统计文案会突出“仅收藏匹配数”
- 支持历史区间 JSON 导入/导出（剪贴板）
- 支持将当前筛选任务导出为 CSV
- 自动持久化运行诊断筛选条件（localStorage）

### PluginInstallDialog

- 支持从本地文件安装（.zip, .tar.gz）
- 支持从 URL 下载安装（GitHub Releases 等）
- 显示安装进度（下载、验证、解压、安装、注册）
- 显示安装结果

### PluginUninstallDialog

- 显示插件信息确认
- 调用后端卸载命令
- 刷新插件列表

### PluginUIRenderer

- 根据 pluginId 渲染对应的插件 UI 组件
- 支持内置插件组件映射 (machine-id-tool -> MachineIdTool)
- 显示友好的错误提示（插件未找到、加载失败）
- 导出 Page 类型定义，支持动态插件路由

### PluginItemContextMenu

- 为已安装插件列表提供右键菜单
- 支持启用/禁用插件
- 支持打开插件目录
- 支持卸载插件（带确认对话框）

## 相关需求

- 需求 1.1: 本地文件安装
- 需求 2.1: URL 安装
- 需求 3.1-3.4: 安装进度显示
- 需求 3.2: 插件 UI 渲染
- 需求 4.1-4.3: 卸载功能
- 需求 6.1: 插件列表显示
